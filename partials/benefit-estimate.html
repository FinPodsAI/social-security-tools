<div id=benefitEstimate class="benefit-estimate fixed-center-column"
     ng-show="showReport()" ng-cloak>

  <h2 id=nav-nra>Normal Retirement Age</h2>
  <p>
    Your primary insurance amount rounded down to the next lower whole dollar
    is <b>${{recipient.primaryInsuranceAmountFloored() | number:0}}</b> / month
    and is the benefit you will earn if you retire at your
    <u>normal retirement age</u> (NRA). Normal Retirement Age is between 65
    and 67, depending on when you were born.
  </p>

  <p>
    For those born in <b>{{birth.year}}</b>, normal retirement age is
    <b>{{recipient.normalRetirement.ageYears}} years and 
    {{recipient.normalRetirement.ageMonths}} months</b>.

    This puts your normal retirement date at
    <b>{{recipient.normalRetirementDate.monthName()}}, 
    {{recipient.normalRetirementDate.year()}}</b>.
  </p>

  <p>
    If you start collecting benefits then, your benefit will be the primary
    insurance amount, rounded down:
    <ul>
      <li>
        <b>${{recipient.primaryInsuranceAmountFloored() | number}}</b> / month
      </li>
      <li>
        <b>${{recipient.primaryInsuranceAmountFloored() * 12 | number}}</b>
        / year
      </li>
    </ul>
  </p>

  <h2 id="nav-early-delayed">Early and Delayed Retirement</h2>
  <p>
    You can also begin taking benefits as early as 62 years old
    (<b>{{recipient.dateAtYearsOld(62).monthName()}}
        {{recipient.dateAtYearsOld(62).year()}}</b>),
    wait until as late as 70 years old
    (<b>{{recipient.dateAtYearsOld(70).monthName()}}
        {{recipient.dateAtYearsOld(70).year()}}</b>),
    or start any month in between. The longer you wait, the higher your
    actual benefit will be.
  </p>
  <p>
    If you choose to take benefits earlier than normal retirement age
    (<b>{{recipient.normalRetirementDate.monthName()}} 
        {{recipient.normalRetirementDate.year()}}</b>),
    your benefit amount will be <u>permanently</u> <i>reduced</i> 
    per year you start early by:
    <ul>
      <li><b>6.67%</b> per year after
        <b>{{recipient.normalRetirement.ageYears - 3}} years and 
           {{recipient.normalRetirement.ageMonths}} months</b>
        (<b>
           {{recipient.dateAtYearsOld(recipient.normalRetirement.ageYears - 3).monthName()}}
          {{recipient.dateAtYearsOld(recipient.normalRetirement.ageYears - 3).year()}}
         </b>)
      </li>
      <li><b>5.00%</b> per year before
        <b>{{recipient.normalRetirement.ageYears - 3}} years and 
           {{recipient.normalRetirement.ageMonths}} months</b>
        (<b>
           {{recipient.dateAtYearsOld(recipient.normalRetirement.ageYears - 3).monthName()}}
          {{recipient.dateAtYearsOld(recipient.normalRetirement.ageYears - 3).year()}}
         </b>)
      </li>
    </ul>
  </p> 
  <p>
    If you choose to instead wait until later than normal retirement age
    (<b>{{recipient.normalRetirementDate.monthName()}}
        {{recipient.normalRetirementDate.year()}}</b>),
     your benefit amount will be <u>permanently</u> <i>increased</i> by
    <b>{{recipient.delayIncreaseRate() * 100 | number: 2}}%</b> per year that
    you delay.
  </p>
  <div class=insetTextBox>
    <h4>Special Rule</h4>
    <p>
      Delayed "credits" are calculated based on the number of months earned in
      the previous calendar year, unless you wait until age 70.
    </p>
    <p>
      If you begin delayed benefits in the middle of the year, you will have a
      few percent smaller benefit than the full delayed benefit. This
      difference will go away beginning January of the following year.
    </p>
  </div>
  <p>
    For a few examples, here's how much your benefit would be at different
    starting ages:
  </p>
  <table class=fancy-table>
    <thead>
      <tr>
        <th colspan=3></th>
        <th colspan=2>Benefit</th>
      </tr>
      <tr>
        <th id="age">Age</th>
        <th id="date">Date</th>
        <th id="adjustment">Adjustment</th>
        <th id="monthlybenefit">monthly</th>
        <th id="annualbenefit">yearly</th>
      </tr>
    </thead> 
    <tbody>
      <tr ng-repeat="age in [62, 63, 64, 65, 66, 67, 68, 69, 70]">
        <td headers="age">{{age}}</td>
        <td headers="date">
          {{recipient.dateAtYearsOld(age).monthName()}}
          {{recipient.dateAtYearsOld(age).year()}}
        </td>
        <td headers="adjustment">
          {{recipient.benefitMultiplierAtAge(initAge(age)) * 100 | number:2}}%
        </td>
        <td headers="monthlybenefit">
          ${{recipient.benefitAtAge(initAge(age)) | number:0}}
        </td>
        <td headers="annualbenefit">
          ${{recipient.benefitAtAge(initAge(age)) * 12 | number:0}}
        </td>
      </tr>
    </tbody>
  </table>
  
  <p>
    You can also see this same thing in the interactive chart below, with the
    age you choose to start taking benefits on the x-axis and the annual
    benefit amount on the y-axis. Move your mouse over the chart to watch how
    the earnings change based on the age that you first start taking benefits.
  </p>


  <div class="chart-container">
    <div class="chart-ylabel">
      <span class="vertical-text">Adjusted Benefit</span>
    </div>

    <!-- canvas width/height must be set explicitly in HTML rather than CSS -->
    <canvas id="age-chart-canvas" width=600 height=400>
      Your browser does not support HTML canvas.
    </canvas>

    <div class="chart-xlabel">
      Age Starting Benefits
    </div>
  </div>
</div>

